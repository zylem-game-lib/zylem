function w(n,i,t){return Math.max(i,Math.min(t,n))}function S(n={},i){return{type:"update",handler:t=>{b(t,n,i)}}}function b(n,i,t){const{me:e}=n,{restitution:c=0,minSpeed:x=2,maxSpeed:g=20,boundaries:a={top:5,bottom:-5,left:-6.5,right:6.5},separation:p=0}={...i},o=e.getPosition(),r=e.getVelocity();if(!o||!r)return;let s=r.x,l=r.y,f=o.x,h=o.y,u=null;o.x<=a.left?(s=Math.abs(r.x),f=a.left+p,u="left"):o.x>=a.right&&(s=-Math.abs(r.x),f=a.right-p,u="right"),o.y<=a.bottom?(l=Math.abs(r.y),h=a.bottom+p,u="bottom"):o.y>=a.top&&(l=-Math.abs(r.y),h=a.top-p,u="top");const y=Math.sqrt(s*s+l*l);if(y>0){const d=w(y,x,g);if(d!==y){const m=d/y;s*=m,l*=m}}if(c&&(s*=c,l*=c),(f!==o.x||h!==o.y)&&(e.setPosition(f,h,o.z),e.moveXY(s,l),t&&u)){const d=e.getVelocity();d&&t({boundary:u,position:{x:f,y:h,z:o.z},velocityBefore:r,velocityAfter:d,...n})}}function T(n=800,i=.05){M(n,i)}function M(n,i){const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),c=t.createGain();e.type="sawtooth",e.frequency.value=n,c.gain.setValueAtTime(.05,t.currentTime),c.gain.exponentialRampToValueAtTime(.001,t.currentTime+i),e.connect(c),c.connect(t.destination),e.start(),e.stop(t.currentTime+i)}export{T as a,w as c,S as r};
